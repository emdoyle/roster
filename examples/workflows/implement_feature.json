{
  "name": "ImplementFeature",
  "apiVersion": "v1",
  "description": "Implement a feature based on customer requirements.",
  "team": "RosterTeam",
  "inputs": [
    {
      "type": "text",
      "name": "feature_description"
    },
    {
      "type": "text",
      "name": "codebase_tree"
    }
  ],
  "outputs": [
    {
      "type": "code",
      "name": "output_code"
    }
  ],
  "steps": {
    "PRD": {
      "role": "ProductManager",
      "action": "DistillFeatureRequirements",
      "inputMap": {
        "customer_requests": "workflow.feature_description"
      }
    },
    "PlanCode": {
      "role": "WebDeveloper",
      "action": "PlanCodeChanges",
      "inputMap": {
        "requirements_document": "PRD.requirements_document",
        "codebase_tree": "workflow.codebase_tree"
      }
    },
    "WriteCode": {
      "role": "WebDeveloper",
      "action": "WriteCode",
      "inputMap": {
        "requirements_document": "PRD.requirements_document",
        "codebase_tree": "workflow.codebase_tree",
        "implementation_plan": "PlanCode.implementation_plan"
      }
    },
    "RefineCode": {
      "role": "WebDeveloper",
      "action": "RefineCode",
      "inputMap": {
        "code": "WriteCode.code",
        "requirements_document": "PRD.requirements_document",
        "codebase_tree": "workflow.codebase_tree"
      },
      "outputMap": {
        "refined_code": "output_code"
      }
    }
  }
}